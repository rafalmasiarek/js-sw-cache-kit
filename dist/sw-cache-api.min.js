const p="/__sw-api/";async function e(n,r="GET",t=null,c=null,i=""){const o={};c&&(o["x-sw-secret"]=c);const u={method:r,headers:o};t&&(o["Content-Type"]="application/json",u.body=JSON.stringify(t));const a=p+n+(i?"?"+i:""),s=await fetch(a,u);if(!s.ok)throw new Error("api error "+s.status);return(s.headers.get("Content-Type")||"").includes("application/json")?s.json():s.text()}async function f(){return e("status")}async function y(){return e("list")}async function w(n,r=null,t=!1){return e("seed","POST",n,r,t?"dry=1":"")}async function d(n,r=null,t=!1){return e("purge","POST",n,r,t?"dry=1":"")}async function x(n="prom"){return e("metrics","GET",null,null,"format="+encodeURIComponent(n))}async function T(){return e("openapi.json")}export{y as swList,x as swMetrics,T as swOpenAPI,d as swPurge,w as swSeed,f as swStatus};
